// Generated by Haxe 3.3.0
package kha;

import haxe.root.*;

@SuppressWarnings(value={"rawtypes", "unchecked"})
public class Kravur extends haxe.lang.HxObject implements kha.Font
{
	public Kravur(haxe.lang.EmptyObject empty)
	{
	}
	
	
	public Kravur(kha.internal.BytesBlob blob)
	{
		//line 112 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
		kha.Kravur.__hx_ctor_kha_Kravur(this, blob);
	}
	
	
	public static void __hx_ctor_kha_Kravur(kha.Kravur __temp_me66, kha.internal.BytesBlob blob)
	{
		//line 110 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
		__temp_me66.images = new haxe.ds.IntMap<kha.KravurImage>();
		//line 113 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
		__temp_me66.blob = blob;
	}
	
	
	public static java.lang.Object __hx_createEmpty()
	{
		//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
		return new kha.Kravur(((haxe.lang.EmptyObject) (haxe.lang.EmptyObject.EMPTY) ));
	}
	
	
	public static java.lang.Object __hx_create(haxe.root.Array arr)
	{
		//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
		return new kha.Kravur(((kha.internal.BytesBlob) (arr.__get(0)) ));
	}
	
	
	public kha.internal.BytesBlob blob;
	
	public haxe.ds.IntMap<kha.KravurImage> images;
	
	public kha.KravurImage _get(int fontSize, haxe.root.Array<java.lang.Object> glyphs)
	{
		//line 117 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
		if ( ! (this.images.exists(fontSize)) ) 
		{
			//line 118 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			boolean tmp = ( glyphs == null );
			//line 118 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			if (tmp) 
			{
				//line 119 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
				glyphs = new haxe.root.Array<java.lang.Object>(new java.lang.Object[]{});
				//line 120 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
				{
					//line 120 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					int _g = 32;
					//line 120 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					while (( _g < 256 ))
					{
						//line 120 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						int i = _g++;
						//line 121 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						glyphs.push(i);
					}
					
				}
				
			}
			
			//line 125 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			int width = 64;
			//line 126 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			int height = 32;
			//line 127 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			kha.graphics2.truetype.Stbtt_bakedchar[] this1 = new kha.graphics2.truetype.Stbtt_bakedchar[glyphs.length];
			//line 127 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			kha.graphics2.truetype.Stbtt_bakedchar[] baked = ((kha.graphics2.truetype.Stbtt_bakedchar[]) (this1) );
			//line 128 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			{
				//line 128 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
				int _g1 = 0;
				//line 128 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
				int _g2 = ((kha.graphics2.truetype.Stbtt_bakedchar[]) (baked) ).length;
				//line 128 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
				while (( _g1 < _g2 ))
				{
					//line 128 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					int i1 = _g1++;
					//line 129 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					((kha.graphics2.truetype.Stbtt_bakedchar[]) (baked) )[i1] = new kha.graphics2.truetype.Stbtt_bakedchar();
				}
				
			}
			
			//line 132 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			kha.internal.BytesBlob pixels = null;
			//line 134 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			int status = -1;
			//line 135 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			while (( status < 0 ))
			{
				//line 136 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
				if (( height < width )) 
				{
					//line 136 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					height *= 2;
				}
				else
				{
					//line 137 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					width *= 2;
				}
				
				//line 138 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
				pixels = kha.internal.BytesBlob.alloc(( width * height ));
				//line 139 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
				status = kha.graphics2.truetype.StbTruetype.stbtt_BakeFontBitmap(this.blob, 0, ((double) (fontSize) ), pixels, width, height, glyphs, baked);
			}
			
			//line 144 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			kha.graphics2.truetype.Stbtt_fontinfo info = new kha.graphics2.truetype.Stbtt_fontinfo();
			//line 145 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			kha.graphics2.truetype.StbTruetype.stbtt_InitFont(info, this.blob, 0);
			//line 147 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			kha.graphics2.truetype.Stbtt_temp_font_v_metrics metrics = kha.graphics2.truetype.StbTruetype.stbtt_GetFontVMetrics(info);
			//line 148 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			double scale = kha.graphics2.truetype.StbTruetype.stbtt_ScaleForPixelHeight(info, ((double) (fontSize) ));
			//line 149 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			int ascent = ((int) (java.lang.Math.round(( metrics.ascent * scale ))) );
			//line 150 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			int descent = ((int) (java.lang.Math.round(( metrics.descent * scale ))) );
			//line 151 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			int lineGap = ((int) (java.lang.Math.round(( metrics.lineGap * scale ))) );
			//line 153 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			kha.KravurImage image = new kha.KravurImage(((int) (((double) (fontSize) )) ), ascent, descent, lineGap, width, height, baked, pixels);
			//line 154 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			this.images.set(fontSize, image);
			//line 155 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			return image;
		}
		
		//line 157 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
		return ((kha.KravurImage) (this.images.get(fontSize)) );
	}
	
	
	public double height(int fontSize)
	{
		//line 161 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
		return this._get(fontSize, null).getHeight();
	}
	
	
	public double width(int fontSize, java.lang.String str)
	{
		//line 165 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
		return this._get(fontSize, null).stringWidth(str);
	}
	
	
	public double baseline(int fontSize)
	{
		//line 169 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
		return this._get(fontSize, null).getBaselinePosition();
	}
	
	
	public void unload()
	{
		//line 173 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
		this.blob = null;
		//line 174 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
		this.images = null;
	}
	
	
	@Override public java.lang.Object __hx_setField(java.lang.String field, java.lang.Object value, boolean handleProperties)
	{
		//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
		{
			//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			boolean __temp_executeDef1 = true;
			//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			switch (field.hashCode())
			{
				case -1185250696:
				{
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					if (field.equals("images")) 
					{
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						__temp_executeDef1 = false;
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						this.images = ((haxe.ds.IntMap<kha.KravurImage>) (value) );
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						return value;
					}
					
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					break;
				}
				
				
				case 3026845:
				{
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					if (field.equals("blob")) 
					{
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						__temp_executeDef1 = false;
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						this.blob = ((kha.internal.BytesBlob) (value) );
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						return value;
					}
					
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					break;
				}
				
				
			}
			
			//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			if (__temp_executeDef1) 
			{
				//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
				return super.__hx_setField(field, value, handleProperties);
			}
			else
			{
				//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
				throw null;
			}
			
		}
		
	}
	
	
	@Override public java.lang.Object __hx_getField(java.lang.String field, boolean throwErrors, boolean isCheck, boolean handleProperties)
	{
		//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
		{
			//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			boolean __temp_executeDef1 = true;
			//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			switch (field.hashCode())
			{
				case -840442113:
				{
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					if (field.equals("unload")) 
					{
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						__temp_executeDef1 = false;
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						return ((haxe.lang.Function) (new haxe.lang.Closure(this, "unload")) );
					}
					
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					break;
				}
				
				
				case 3026845:
				{
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					if (field.equals("blob")) 
					{
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						__temp_executeDef1 = false;
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						return this.blob;
					}
					
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					break;
				}
				
				
				case -1720785339:
				{
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					if (field.equals("baseline")) 
					{
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						__temp_executeDef1 = false;
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						return ((haxe.lang.Function) (new haxe.lang.Closure(this, "baseline")) );
					}
					
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					break;
				}
				
				
				case -1185250696:
				{
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					if (field.equals("images")) 
					{
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						__temp_executeDef1 = false;
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						return this.images;
					}
					
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					break;
				}
				
				
				case 113126854:
				{
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					if (field.equals("width")) 
					{
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						__temp_executeDef1 = false;
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						return ((haxe.lang.Function) (new haxe.lang.Closure(this, "width")) );
					}
					
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					break;
				}
				
				
				case 2932375:
				{
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					if (field.equals("_get")) 
					{
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						__temp_executeDef1 = false;
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						return ((haxe.lang.Function) (new haxe.lang.Closure(this, "_get")) );
					}
					
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					break;
				}
				
				
				case -1221029593:
				{
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					if (field.equals("height")) 
					{
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						__temp_executeDef1 = false;
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						return ((haxe.lang.Function) (new haxe.lang.Closure(this, "height")) );
					}
					
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					break;
				}
				
				
			}
			
			//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			if (__temp_executeDef1) 
			{
				//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
				return super.__hx_getField(field, throwErrors, isCheck, handleProperties);
			}
			else
			{
				//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
				throw null;
			}
			
		}
		
	}
	
	
	@Override public java.lang.Object __hx_invokeField(java.lang.String field, haxe.root.Array dynargs)
	{
		//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
		{
			//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			boolean __temp_executeDef1 = true;
			//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			switch (field.hashCode())
			{
				case -840442113:
				{
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					if (field.equals("unload")) 
					{
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						__temp_executeDef1 = false;
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						this.unload();
					}
					
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					break;
				}
				
				
				case 2932375:
				{
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					if (field.equals("_get")) 
					{
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						__temp_executeDef1 = false;
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						return this._get(((int) (haxe.lang.Runtime.toInt(dynargs.__get(0))) ), ((haxe.root.Array<java.lang.Object>) (dynargs.__get(1)) ));
					}
					
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					break;
				}
				
				
				case -1720785339:
				{
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					if (field.equals("baseline")) 
					{
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						__temp_executeDef1 = false;
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						return this.baseline(((int) (haxe.lang.Runtime.toInt(dynargs.__get(0))) ));
					}
					
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					break;
				}
				
				
				case -1221029593:
				{
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					if (field.equals("height")) 
					{
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						__temp_executeDef1 = false;
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						return this.height(((int) (haxe.lang.Runtime.toInt(dynargs.__get(0))) ));
					}
					
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					break;
				}
				
				
				case 113126854:
				{
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					if (field.equals("width")) 
					{
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						__temp_executeDef1 = false;
						//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
						return this.width(((int) (haxe.lang.Runtime.toInt(dynargs.__get(0))) ), haxe.lang.Runtime.toString(dynargs.__get(1)));
					}
					
					//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
					break;
				}
				
				
			}
			
			//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			if (__temp_executeDef1) 
			{
				//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
				return super.__hx_invokeField(field, dynargs);
			}
			
		}
		
		//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
		return null;
	}
	
	
	@Override public void __hx_getFields(haxe.root.Array<java.lang.String> baseArr)
	{
		//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
		baseArr.push("images");
		//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
		baseArr.push("blob");
		//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
		{
			//line 108 "/usr/local/lib/haxe/lib/kha/git/Sources/kha/Kravur.hx"
			super.__hx_getFields(baseArr);
		}
		
	}
	
	
}


